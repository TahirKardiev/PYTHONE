# Инициализация данных
баланс = 0
счетчик_операций = 0
список_операций = []

# Функция для пополнения счета
def пополнить(сумма):
    global баланс, счетчик_операций
    баланс += сумма
    счетчик_операций += 1
    список_операций.append(f"Пополнение: +{сумма} у.е.")
    print(f"Сумма денег: {баланс} у.е.")

# Функция для снятия средств
def снять(сумма):
    global баланс, счетчик_операций
    налог = 0

    # Проверка на превышение суммы в 5 млн и вычет налога
    if баланс >= 5000000:
        налог = баланс * 0.1
        баланс -= налог
        список_операций.append(f"Налог на богатство: -{налог} у.е.")
    
    if сумма % 50 != 0:
        print("Сумма должна быть кратна 50 у.е.")
        return

    if баланс >= сумма:
        комиссия = max(30, min(сумма * 0.015, 600))
        баланс -= (сумма + комиссия)
        счетчик_операций += 1
        список_операций.append(f"Снятие: -{сумма} у.е. (Комиссия: -{комиссия} у.е.)")
        print(f"Сумма денег: {баланс} у.е.")
    else:
        print("Недостаточно средств на счете.")

# Функция для вывода баланса
def вывести_баланс():
    global баланс
    print(f"Текущий баланс: {баланс} у.е.")

# Основной цикл программы
while True:
    print("Доступные действия:")
    print("1. Пополнить")
    print("2. Снять")
    print("3. Выйти")

    выбор = input("Выберите действие: ")

    if выбор == "1":
        сумма = int(input("Введите сумму для пополнения: "))
        пополнить(сумма)
    elif выбор == "2":
        сумма = int(input("Введите сумму для снятия: "))
        снять(сумма)
    elif выбор == "3":
        print("Выход из программы.")
        break
    else:
        print("Некорректный выбор.")

    # Проверка на каждую третью операцию и начисление процентов
    if счетчик_операций % 3 == 0:
        проценты = баланс * 0.03
        баланс -= проценты
        список_операций.append(f"Начисление процентов: -{проценты} у.е.")

    вывести_баланс()

# Вывод списка операций
print("Список операций:")
for операция in список_операций:
    print(операция)
